# Description

给定一个数组，返回数组中有多少个等差数列

# Solution
一开始想这道题，马上就想到DP了：`dp[i]`表示前`i`个元素组成的子数组中有多少个等差数列。
然后新加进来一个`A[i]`之后：以前的等差数列可以保留，同时以`A[i-1]`为结尾的等差数列都增加了一份（原来的再加上新加的这个`A[i]`），同时再加`1`，表示之前数组最后两位新形成的等差数列：
``` 
dp[i] = dp[i-1] + (dp[i-1] - dp[i-2]) + 1
```
但同时还需要考虑数组中间有断裂的情况，因此花了很长篇幅写如何处理。

AC之后在网上看到一种更好的思路：`dp[i]`表示以`A[i]`为最终元素组成的子数组中有多少个等差数列，然后`dp[i]=dp[i-1]`，如果`A[i]`跟之前的行程等差数列，否则就是0.最后再把`dp`全部加起来。
这么做可以完美解决之前那种断裂情况，代码量少了很多，非常简洁，而且非常易懂。可参考我第二份代码。